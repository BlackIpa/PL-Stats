<table class="table sts_table pl_table">
  <tr>
    <th class="alg_left">Player</th>
    <th class="alg_left">Team</th>
    <th class="alg_left"><abbr title="Position">P</abbr></th>
    <th><abbr title="Yellow Cards">YC</abbr></th>
    <th><abbr title="Red Cards">RC</abbr></th>
  </tr>

  <% players.order(red_cards: :desc, yellow_cards: :desc).each do |player| %>
    <tr>
      <td class="alg_left"><%= link_to player.full_name, player_path(player) %></td>
      <td class="alg_left"><%= link_to player.team.team_name, team_path(player.team_id) %></td>
      <% case player.position
        when 1 %><td class="alg_left">GK</td>
        <% when 2 %><td class="alg_left">DEF</td>
        <% when 3 %><td class="alg_left">MID</td>
        <% when 4 %><td class="alg_left">FWD</td>
      <% end %>
      <td><%= player.yellow_cards %></td>
      <td><%= player.red_cards %></td>
    </tr>
  <% end %>
</table>
